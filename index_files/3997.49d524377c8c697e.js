!function(){try{var a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new a.Error).stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="09fc017f-8f23-421a-945c-157f3679ccfb",a._sentryDebugIdIdentifier="sentry-dbid-09fc017f-8f23-421a-945c-157f3679ccfb")}catch(a){}}();var _sentryModuleMetadataGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_sentryModuleMetadataGlobal._sentryModuleMetadata=_sentryModuleMetadataGlobal._sentryModuleMetadata||{},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack]=Object.assign({},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack],{"_sentryBundlerPluginAppKey:sentry-js-hh-filter-key":!0});var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d955a3014674a3e971eb017ee90d42a8d0940d9"},(self.__LOADABLE_LOADED_CHUNKS_xhh__=self.__LOADABLE_LOADED_CHUNKS_xhh__||[]).push([["3997"],{31550:function(a,e,t){t.d(e,{Z:()=>i});var n=t(/*! src/utils/fetcher */20567);const i=a=>{let{params:e,cancelToken:t}=a;return n.ZP.get("/shards/product_calculator",{params:e,cancelToken:t})}},54994:function(a,e,t){t.d(e,{Z:()=>i});var n=t(/*! bloko/common/media */95659);const i=a=>{const e=document.querySelector(".HH-AddItemToCartAnimation-TotalCost");if(e)if((0,n.getBreakpoint)()!==n.Breakpoint.L){const t=document.createElement("div"),n=()=>{t.remove(),e.classList.remove("price-cart-update-blink"),setTimeout((()=>{e.classList.add("price-cart-update-blink")}),0),t.removeEventListener("transitionend",n)};t.addEventListener("transitionend",n),t.classList.add("price-cart-flying-item");const i=a.getBoundingClientRect();t.style.top=`${i.top+window.scrollY}px`,t.style.left=`${i.left+window.scrollX}px`,document.body.appendChild(t);const r=e.getBoundingClientRect();setTimeout((()=>{t.style.top=`${r.top+window.scrollY}px`,t.style.left=`${r.left+window.scrollX}px`}),0),t.classList.add("price-cart-flying-item_animated")}else e.classList.remove("price-cart-update-blink"),setTimeout((()=>{e.classList.add("price-cart-update-blink")}),0)}},30947:function(a,e,t){t.d(e,{cl:()=>x,WQ:()=>Z,jZ:()=>_,BR:()=>S,Hl:()=>D,B8:()=>B,kk:()=>f,e_:()=>j,Bk:()=>C,Zw:()=>I,jX:()=>y,J9:()=>b,F2:()=>N});var n=t(74322),i=t(47108),r=t(12029),o=t(38911),l=t(72900),c=t(11288),s=t(74429);const d="add.to.price.cart.error",u=a=>{let{trls:e}=a;return(0,s.jsx)(s.Fragment,{children:e[d]})};u.displayName="components/Notifications/PriceCartError/AddToCartErrorNotification";const m={Element:(0,c.Z)(u),kind:"error",autoClose:!0,autoCloseDelay:3e3};var p=t(92490),h=t(79789),g=t(20567),v=t(54994);const y=(a,e,t)=>(n,i)=>{const r=i().priceData.priceEmployerId;return g.ZP.post("/shards/price/cart/items",{product:a},{params:{employerId:r}}).then((a=>{let{data:i}=a;i.priceCart?(n((0,h.mG)(i.priceCart)),(0,v.Z)(e)):t(m)}),(()=>{t(m)}))},b=(a,e,t)=>(n,i)=>{const r=i().priceData.priceEmployerId;return g.ZP.post("/shards/price/cart/item_list",{productList:a},{params:{employerId:r}}).then((a=>{let{data:i}=a;i.priceCart?(n((0,h.mG)(i.priceCart)),(0,v.Z)(e)):t(m)}),(()=>{t(m)}))},x=(a,e)=>(t,n)=>{const i=n().priceData.priceEmployerId;return g.ZP.delete("/shards/price/cart/item",{params:{itemId:a,employerId:i}}).then((a=>{let{data:n}=a;n.priceCart?t((0,h.mG)(n.priceCart)):e(o.Z)}),(()=>{e(o.Z)}))},f=a=>(e,t)=>{const n=t().priceData.priceEmployerId;return g.ZP.get("/shards/price/cart/get_items",{params:{employerId:n}}).then((t=>{let{priceCart:n}=t;n?e((0,h.mG)(n)):a(o.Z)}),(()=>{a(o.Z)}))},j=(a,e,t)=>{let{hhtmFromLabel:n}=a;return(a,l)=>{const c=l().priceData.priceEmployerId,s=l().authUrl["login-url"];return g.ZP.post("/shards/price/cart/purchase",null,{params:{employerId:c}}).then((a=>{var e;null!==(e=a.data)&&void 0!==e&&e.purchaseUrl?t((0,r.updateUrl)(a.data.purchaseUrl,{hhtmFromLabel:n})):i.default.log("out error",new Error("Missing purchaseUrl"))}),(a=>{let{response:n}=a;403===n.status?t(s):e(o.Z)}))}},C=function(a,e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;return g.ZP.post("/shards/employer/create_cart",{products:a,purchaseParams:n},{params:{employerId:i}}).then((a=>{let{data:n}=a;n.purchaseUrl?t((0,r.updateUrl)(n.purchaseUrl)):e(o.Z)}),(()=>{e(o.Z)}))},B=async function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;const{activeProductType:s,title:d,text:u}=n,m={products:a,purchaseParams:e,vacancyId:t,title:d,text:u,type:s};try{let a;a=i?await g.ZP.put("/shards/employer/clickme_auto_campaign/update_cart_with_clickme_auto_campaign_draft",{...m,campaignDraftId:i}):await g.ZP.post("/shards/employer/clickme_auto_campaign/create_cart_with_clickme_auto_campaign_draft",m);const{data:e}=a;e?r(e):(l(o.Z),null==c||c())}catch(a){l(o.Z),null==c||c()}},S=(a,e,t,n,i,r)=>{const{activeProductType:l,title:c,text:s}=e;return g.ZP.post(t?"/shards/employer/clickme_auto_campaign/promotion_validate":"/shards/employer/clickme_auto_campaign/promotion_create",{vacancyId:a,title:c,text:s,type:l}).then((a=>{let{data:e}=a;e?n(e):(i(o.Z),null==r||r())}),(()=>{i(o.Z),null==r||r()}))},I=async function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;const s={products:a,purchaseParams:e,vacancyId:t,bid:n,budget:i};try{let a;a=c?await g.ZP.put("/shards/vacancy/auction/update_cart_with_auction_campaign_draft",{...s,campaignDraftId:c}):await g.ZP.post("/shards/vacancy/auction/create_cart_with_auction_campaign_draft",s);const{data:e}=a;e.purchaseUrl?l(e.purchaseUrl):r(o.Z)}catch(a){r(o.Z)}},_=(a,e,t,i,r,c)=>g.ZP.post("/shards/vacancy/auction/create_auction_campaign_without_purchase",{vacancyId:a,bid:e,budget:t}).then((a=>{let{data:e}=a;i(e)}),(a=>{let{response:e}=a;(null==e?void 0:e.status)===n.CONFLICT?(c(l.X,{props:{errorType:l.h.AlreadyCreated}}),r()):c(o.Z)})),Z=function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;return g.ZP.put("/shards/vacancy/auction/create_cart_with_changed_clickme_campaign",{products:a,purchaseParams:e,vacancyId:t,bid:n,budget:i,campaignId:r}).then((a=>{let{data:e}=a;e.purchaseUrl?c(e.purchaseUrl):l(o.Z)}),(()=>{l(o.Z)}))},D=(a,e,t,n,i,r,l)=>()=>g.ZP.put("/shards/vacancy/auction/save_auction_campaign",null,{params:{vacancyId:a,campaignId:e,budget:n,bid:t}}).then((a=>{let{data:e}=a;e?i&&i(e):(r(o.Z),null==l||l())}),(()=>{r(o.Z),null==l||l()})),N=(a,e,t,n,i,r,l)=>()=>g.ZP.put("/shards/vacancy/auction/save_and_restore_auction_campaign",null,{params:{vacancyId:a,campaignId:e,budget:n,bid:t}}).then((a=>{let{data:e}=a;e?(l(p.Z),i&&i({...e,bid:t})):(l(o.Z),null==r||r())}),(()=>{l(o.Z),null==r||r()}))},41693:function(a,e,t){t.d(e,{J:()=>i});var n=t(/*! src/models/auctionData */90614);const i=a=>{let{bid:e,budget:t,minBid:i,minBudget:r,campaignBalance:o}=a;const l={[n.h_.Bid]:void 0,[n.h_.Budget]:void 0};return""===e&&(l[n.h_.Bid]=n.cj.BidRequired),""===t&&(l[n.h_.Budget]=n.cj.BudgetRequired),e&&Number(e)<i&&(l[n.h_.Bid]=n.cj.MinBidValue),t&&Number(t)<r&&(l[n.h_.Budget]=n.cj.MinBudgetValue),t&&!l[n.h_.Budget]&&Number(t)%1e4&&(l[n.h_.Budget]=n.cj.InvalidBudget),e&&t&&!l[n.h_.Bid]&&Number(e)>Number(t)&&(l[n.h_.Bid]=n.cj.InvalidBid),e&&o&&Number(e)>o&&(l[n.h_.Bid]=n.cj.BidMoreThanCampaignBalance),l}},58352:function(a,e,t){t.d(e,{Z:()=>c});var n=t(/*! react */85813),i=t(/*! react-redux */35966),r=t(/*! src/components/Auction/utils */44138),o=t(/*! src/hooks/useSelector */93435),l=t(/*! src/models/auctionHhtmSourceLabel */15071);const c=()=>{const a=(0,i.useDispatch)(),e=(0,o.v)((a=>[r.fB,r.oL].find((e=>a.runActionArgument===e)))),t=(0,o.v)((a=>a.auctionHhtmSourceLabel)),[c,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{e&&!t?(a((0,l.X)(e)),s(e)):s(null)}),[]),c}},44138:function(a,e,t){t.d(e,{J8:()=>u,Jv:()=>v,Mr:()=>h,Pp:()=>y,VK:()=>s,Ym:()=>d,fB:()=>m,oL:()=>p,qx:()=>c,sy:()=>g,wN:()=>b});var n=t(/*! @hh.ru/analytics-js-events/build/xhh/employer/auction/auction_controls_edit */1524),i=t.n(n),r=t(/*! bloko/common/debounce */90740),o=t.n(r),l=t(/*! src/models/auctionData */90614);const c=a=>a===l.YX.Active,s=a=>a===l.YX.Blocked,d=a=>a===l.YX.CampaignLowBalance,u=a=>a===l.YX.AccountLowBalance,m="useSearchTop",p="openBudget",h=function(){let{bid:a,budget:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n)=>{const{auctionData:i,vacancyCreateDraftId:r}=n(),{vacancyId:o,campaignDraft:l,currentVacancyAuctionCampaign:c,campaignCreationStatus:s}=i;return{vacancyId:o,campaignId:c?String(c.campaignId):void 0,campaignDraftId:l?String(l.campaignDraftId):void 0,campaignStatus:null==c?void 0:c.campaignStatus,campaignCreationStatus:s,draftId:r,bid:a,budget:e}}},g=a=>(e,t)=>{const n=t().auctionData,{controls:i,bidRating:r,useAvailableMoney:o,availableMoney:c}=n,s=Number(i[l.h_.Budget].value),{vacancyId:d,currentVacancyAuctionCampaign:u}=n;return{vacancyId:d,campaignId:String(u.campaignId),campaignStatus:u.campaignStatus,bidInCents:Number(i[l.h_.Bid].value),budgetInCents:s,budgetDiffInCents:Number(s)-Number(null==u?void 0:u.budget),maxBidAmongSimilarVacancies:r.data.maxBidAmongSimilarVacancies,useAvailableMoney:o,availableMoneyInCents:c,action:a}},v=o()((a=>{i()(a)}),300),y=(a,e)=>a&&s(e),b=a=>{var e;let t=!1,n=!1,i=!1;const r={campaignId:null,campaignDraftId:null,campaignStatus:null},o=l.YX.Blocked,c=l.FN.NotCreated;if(!a)return{canCreateAuction:t,canEditAuction:n,isAuctionDraft:i,campaignStatus:o,campaignId:0,campaignCreationStatus:c,campaignDraftId:"",auctionNullableAnalyticsData:r,isVacancyFromAnotherCabinet:false};const{campaignCreationStatus:s,currentVacancyAuctionCampaign:d,controls:u,currency:m,campaignDraft:p}=a;return s===l.FN.NotCreated?t=!0:s===l.FN.CampaignDraftCreated?(t=!0,i=!0):s===l.FN.CampaignCreated&&(n=!0),{canCreateAuction:t,canEditAuction:n,isAuctionDraft:i,campaignStatus:(null==d?void 0:d.campaignStatus)||o,campaignId:(null==d?void 0:d.campaignId)||0,campaignCreationStatus:s,campaignDraftId:(null==p?void 0:p.campaignDraftId)||"",bid:null==d?void 0:d.bid,budget:null==d?void 0:d.budget,minBudget:null==u||null===(e=u["publication.auction.budget"])||void 0===e?void 0:e.minValue,campaignBalance:null==d?void 0:d.campaignBalance,currency:m,auctionNullableAnalyticsData:{campaignId:(null==d?void 0:d.campaignId)||null,campaignDraftId:null!=p&&p.campaignDraftId?Number(p.campaignDraftId):null,campaignStatus:(null==d?void 0:d.campaignStatus)||null},isVacancyFromAnotherCabinet:!1===(null==d?void 0:d.campaignAccountInfo.isMain)||!1}}},12744:function(a,e,t){t.d(e,{Z:()=>c,z:()=>l});var n=t(/*! react */85813),i=t(/*! bloko/common/urlParser */27719),r=t.n(i),o=t(/*! src/hooks/useUrl */80114);const l="runAction",c=(a,e)=>{var t;const i=(0,o.Z)(),c=null===(t=r()(i).params)||void 0===t?void 0:t[l];(0,n.useEffect)((()=>{if(c&&Array.isArray(c)&&c[0]===a){const a=new URL(window.location.href),t=new URLSearchParams(a.search);t.delete(l),history.replaceState(null,"",`?${String(t)}${location.hash}`),e()}}),[])}},80114:function(a,e,t){t.d(e,{Z:()=>i});var n=t(/*! src/hooks/useSelector */93435);function i(){return(0,n.v)((a=>{let{router:{location:e}}=a;return e.pathname+e.search}))}},15802:function(a,e,t){t.d(e,{Z:()=>u});var n=t(/*! @hh.ru/analytics-js */45520),i=t(/*! @hh.ru/analytics-js-events/build/xhh/employer/auction/auction_content_element_shown */3722),r=t.n(i),o=t(/*! src/components/Auction/hooks/useHhtmSourceLabelFromRunActionQs */58352),l=t(/*! src/hooks/useSelector */93435),c=t(/*! src/models/auctionData */90614),s=t(/*! react/jsx-runtime */74429);const d=a=>{let{children:e}=a;const{bidRating:t,controls:i,vacancyId:d,campaignDraft:u,currentVacancyAuctionCampaign:m,campaignCreationStatus:p}=(0,l.Y)((a=>{let{auctionData:e}=a;return e})),h=(0,l.v)((a=>{let{vacancyCreateDraftId:e}=a;return e})),g=(0,o.Z)(),v=m?String(m.campaignId):void 0,y=u?String(u.campaignDraftId):void 0,b=null==m?void 0:m.campaignStatus;return(0,s.jsx)(n.ElementShownAnchor,{fn:r(),vacancyId:d,campaignId:v,campaignDraftId:y,campaignStatus:b,campaignCreationStatus:p,draftId:h,bid:i[c.h_.Bid].value,budget:i[c.h_.Budget].value,competingCampaignBids:JSON.stringify(t.data.competingCampaignBids),competingCampaignIds:JSON.stringify(t.data.competingCampaignIds),initialBid:i[c.h_.Bid].initialValue,initialBudget:i[c.h_.Budget].initialValue,ratingStatus:t.data.bidFrequencyStatus,hhtmSourceLabel:g,children:e})};d.displayName="Auction/Analytics/AuctionContentShown/AuctionContentShown";const u=d},67369:function(a,e,t){t.d(e,{Z:()=>I});var n=t(2019),i=t(35936),r=t(42993),o=t(65418),l=t(68676),c=t(67036),s=t(86486),d=t(93435),u=t(74429);const m=a=>{let{value:e,onPlusOrMinusClick:t,inversed:n,...i}=a;const r=Number(e),o=(0,d.Y)((a=>{let{auctionData:e}=a;return e.currentVacancyAuctionCampaign})),l=o?r-o.budget:r;return(0,s.Z)({replenishment:l}),(0,u.jsx)(c.Z,{...i,value:e,step:1e4,onPlusOrMinusClick:t,inversed:n})};m.displayName="AuctionControls/Budget/index/Budget";const p=m;var h=t(59118),g=t(11288),v=t(90614);const y="wrapper--uB0BID0V4KAdcGE5",b="input-block--ebrKJteQ4HQt9moz",x="input-separator--bqWxT1vWp4xyVFOW",f="auction.controls.bid",j={0:"auction.controls.bid.info.0",1:"auction.controls.bid.info.1"},C="auction.controls.budget",B={0:"auction.controls.budget.info.0",1:"auction.controls.budget.info.1"},S=a=>{let{bidError:e,bidShowError:t,bidValue:c,minBid:s,budgetError:m,budgetShowError:g,budgetValue:S,minBudget:I,inversed:_=!1,onBidBlur:Z,onBidChange:D,onBidFocus:N,onBudgetBlur:A,onBudgetChange:w,onBudgetFocus:k,onBudgetPlusOrMinusClick:M,renderBidError:R,renderBudgetError:E,renderFewResponsesCard:V,onUseAvailableMoneyChange:X,trls:F}=a;const q=(0,d.Y)((a=>{let{auctionData:e}=a;return e.currency})),Y=(0,d.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.hideClickmeBalance}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:y,children:[(0,u.jsxs)("div",{className:b,children:[(0,u.jsx)(n.l,{info:(0,u.jsxs)(u.Fragment,{children:[F[j[0]],(0,u.jsx)(i.X,{default:8}),F[j[1]]]}),children:(0,u.jsx)(r.x,{typography:"label-2-regular",style:"secondary",children:F[f]})}),(0,u.jsx)(i.X,{default:8}),(0,u.jsxs)("div",{children:[(0,u.jsx)(l.Z,{inversed:_,"data-qa":"auction-bid-control",invalid:t,maxLength:7,name:v.h_.Bid,onBlur:Z,onChange:D,onFocus:N,value:c,min:s,postfix:(0,u.jsx)(h.Z,{value:q}),error:e,minusDataQa:"bid-minus",plusDataQa:"bid-plus"}),R()]}),(0,u.jsx)(i.X,{default:24})]}),(0,u.jsx)("div",{className:x}),(0,u.jsxs)("div",{className:b,children:[(0,u.jsx)(n.l,{info:(0,u.jsxs)(u.Fragment,{children:[F[B[0]],(0,u.jsx)(i.X,{default:8}),F[B[1]]]}),children:(0,u.jsx)(r.x,{typography:"label-2-regular",style:"secondary",children:F[C]})}),(0,u.jsx)(i.X,{default:8}),(0,u.jsx)(p,{inversed:_,"data-qa":"auction-budget-control",invalid:g,maxLength:7,name:v.h_.Budget,onBlur:A,onChange:w,onPlusOrMinusClick:M,onFocus:k,value:S,min:I,postfix:(0,u.jsx)(h.Z,{value:q}),minusDataQa:"budget-minus",plusDataQa:"budget-plus"}),E(),(0,u.jsx)(i.X,{default:24})]})]}),!m&&V(),(0,u.jsx)(i.X,{default:8}),!Y&&(0,u.jsx)(o.Z,{onUseAvailableMoneyChange:X}),(0,u.jsx)(i.X,{default:8})]})};S.displayName="Common/AuctionControls/AuctionDummyControls/AuctionDummyControls";const I=(0,g.Z)(S)},67036:function(a,e,t){t.d(e,{Z:()=>d});var n=t(79235),i=t(15829),r=t(36625),o=t(82207);const l="auction-input--njrjBof1AplvtOCU";var c=t(74429);const s=a=>{let{step:e,value:t,min:s,onPlusOrMinusClick:d,onChange:u,minusDataQa:m,plusDataQa:p,inversed:h,...g}=a;const v=Number(t),y=d||u;return(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)(o.Z,{value:t,onChange:u,...g}),(0,c.jsx)(n.z,{onClick:()=>{if(s){if(v===s)return;if(v-e<Number(s))return void(null==y||y(String(s)))}null==y||y(String(v-e))},mode:h?"primary":"secondary",style:h?"contrast":"neutral","aria-label":"",hideLabel:!0,"data-qa":m,icon:(0,c.jsx)(i.Z,{})}),(0,c.jsx)(n.z,{onClick:()=>{v+e<Number(s)?null==y||y(String(s)):null==y||y(String(v+e))},mode:h?"primary":"secondary",style:h?"contrast":"neutral","aria-label":"",hideLabel:!0,"data-qa":p,icon:(0,c.jsx)(r.Z,{})})]})};s.displayName="AuctionControls/AuctionInput/index/AuctionInput";const d=s},65418:function(a,e,t){t.d(e,{Z:()=>C});var n=t(35966),i=t(52031),r=t(46724),o=t(52127),l=t(91108),c=t(11288),s=t(93435),d=t(90614),u=t(77569),m=t(32975);const p="available-money--zmizJZSXZEkntkBG";var h=t(74429);const g=a=>{let{availableMoney:e,currency:t}=a;return(0,h.jsx)("span",{className:p,children:(0,h.jsx)(m.Z,{currency:t,groupSeparator:u.H3,inCents:!0,render:(a,e)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{"data-qa":"clickme-account-balance",children:a}),u.qD,e]}),children:e})})};g.displayName="AuctionControls/AvailableMoney/ClickmeAvailableMoney/ClickmeAvailableMoney";const v=g,y="auction.controls.payWithClickmeCheckbox",b="auction.controls.availableMoney",x="auction.controls.accountBalance.info",f="auction.controls.accountBalance.infoTitle",j=a=>{let{trls:e,onUseAvailableMoneyChange:t}=a;const c=(0,n.useDispatch)(),m=(0,s.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.useAvailableMoney)||!1})),p=(0,s.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.availableMoney)||0})),g=(0,r.useSelectorNonNullable)((a=>{let{auctionData:e}=a;return e.currency}));return(0,h.jsx)(l.Z,{name:"useAvailableMoney",title:(0,h.jsx)(i.j,{type:"title",children:(0,h.jsx)(o.Z,{tipContent:e[x],fieldName:e[f],withoutVertPadding:!0,children:e[y]})}),subtitle:(0,h.jsxs)(h.Fragment,{children:[e[b],u.qD,(0,h.jsx)(v,{availableMoney:p,currency:g})]}),checked:m&&!!p,"data-qa":"use-available-money",disabled:!p,onChange:()=>{c((0,d.mO)(!m)),null==t||t(!m)}})};j.displayName="Common/AuctionControls/AvailableMoney/AvailableMoney";const C=(0,c.Z)(j)},68676:function(a,e,t){t.d(e,{Z:()=>b});var n=t(85813),i=t(35966),r=t(62052),o=t.n(r),l=t(45151),c=t.n(l),s=t(67036),d=t(93435),u=t(1524),m=t.n(u),p=t(44138),h=t(90614),g=t(20567);var v=t(74429);const y=a=>{let{error:e,value:t,onPlusOrMinusClick:r,inversed:l,...u}=a;const y=(0,d.Y)((a=>{let{auctionData:e}=a;return e.vacancyInfo.areaIds})),b=(0,d.Y)((a=>{let{auctionData:e}=a;return e.vacancyInfo.name})),x=(0,d.Y)((a=>{let{auctionData:e}=a;return e.vacancyInfo.professionalRoleIds})),f=(0,d.Y)((a=>{let{auctionData:e}=a;return e.vacancyId||null})),j=(0,i.useDispatch)(),C=(0,n.useRef)(null),B=(0,n.useRef)(c()((a=>{const e=new(o().CancelToken)((a=>{C.current=a}));j((a=>{let{params:e,cancelToken:t}=a;return a=>(a((0,h.ht)(!0)),g.ZP.get("/shards/vacancy/auction/bid_rating",{params:e,cancelToken:t}).then((t=>{m()(a((0,p.Mr)({bid:String(e.bid)}))),a((0,h.Sj)(t))}),(a=>{g.ZP.isCancel(a)||console.error(a)})).finally((()=>{a((0,h.ht)(!1))})))})({params:a,cancelToken:e}))}),500)),S=(0,n.useRef)(!0);return(0,n.useEffect)((()=>{var a;S.current?S.current=!1:(null===(a=C.current)||void 0===a||a.call(C),e?B.current.cancel():B.current({areaIds:y,bid:Number(t),name:b,professionalRoleIds:x,vacancyId:f}))}),[y,j,e,b,x,f,t]),(0,v.jsx)(s.Z,{...u,value:t,step:500,onPlusOrMinusClick:r,inversed:l})};y.displayName="AuctionControls/Bid/index/Bid";const b=y},19012:function(a,e,t){t.d(e,{Z:()=>p});var n=t(/*! bloko/common/isValidKey */31362),i=t.n(n),r=t(/*! bloko/common/trl */25976),o=t(/*! src/components/FormatMoney */32975),l=t(/*! src/components/translation */11288),c=t(/*! src/hooks/useSelector */93435),s=t(/*! src/models/auctionData */90614),d=t(/*! react/jsx-runtime */74429);const u={[s.cj.BidMoreThanCampaignBalance]:"auction.controls.error.bidMoreThanCampaignBalance",[s.cj.InvalidBid]:"auction.controls.error.invalidBid",[s.cj.InvalidBudget]:"auction.controls.error.invalidBudget",[s.cj.MinBidValue]:"auction.controls.error.minBidValue",[s.cj.MinBudgetValue]:"auction.controls.error.minBudgetValue",[s.cj.BidRequired]:"auction.controls.error.bidRequired",[s.cj.BudgetRequired]:"auction.controls.error.budgetRequired",[s.cj.MinReplenishmentValue]:"auction.controls.error.minReplenishmentValue",[s.cj.ReplenishmentRequired]:"auction.controls.error.replenishmentRequired",[s.cj.InvalidReplenishment]:"auction.controls.error.invalidReplenishment"},m=a=>{let{error:e,trls:t}=a;const n=(0,c.Y)((a=>{let{auctionData:e}=a;return e.currency})),l=(0,c.Y)((a=>{let{auctionData:e}=a;return e.controls[s.h_.Bid].minValue})),m=(0,c.Y)((a=>{let{auctionData:e}=a;return e.controls[s.h_.Budget].minValue})),p=(0,c.Y)((a=>{var e;let{auctionData:t}=a;return null===(e=t.controls[s.h_.Replenishment])||void 0===e?void 0:e.minValue}));if(!e)return null;const h={[s.cj.MinBidValue]:l,[s.cj.MinBudgetValue]:m,[s.cj.MinReplenishmentValue]:p};if(i()(h,e)){const a=h[e];return(0,d.jsx)("div",{"data-qa":"auction-controls-error",children:(0,r.formatToReactComponent)(t[u[e]],{"{0}":(0,d.jsx)(o.Z,{currency:n,inCents:!0,children:a})})})}return(0,d.jsx)("div",{"data-qa":"auction-controls-error",children:t[u[e]]})};m.displayName="Common/AuctionControls/Error/Error";const p=(0,l.Z)(m)},81216:function(a,e,t){t.d(e,{Z:()=>j});var n=t(/*! react-redux */35966),i=t(/*! @hh.ru/analytics-js */45520),r=t(/*! @hh.ru/analytics-js-events/build/xhh/employer/auction/auction_recommended_budget_hint_button_click */87165),o=t.n(r),l=t(/*! @hh.ru/analytics-js-events/build/xhh/employer/auction/auction_recommended_budget_hint_element_shown */77154),c=t.n(l),s=t(/*! @hh.ru/magritte-ui */66570),d=t(/*! @hh.ru/magritte-ui */42993),u=t(/*! @hh.ru/magritte-ui */99751),m=t(/*! @hh.ru/magritte-ui */35936),p=t(/*! bloko/common/trl */25976),h=t(/*! src/components/Auction/utils */44138),g=t(/*! src/components/FormatMoney */32975),v=t(/*! src/components/translation */11288),y=t(/*! src/hooks/useSelector */93435),b=t(/*! react/jsx-runtime */74429);const x="auction.controls.hint.recommendedBudget",f=a=>{let{bid:e,budget:t,initialBid:r,initialBudget:l,onClick:v,trls:f}=a;const j=(0,y.Y)((a=>{let{auctionData:e}=a;return e.currency})),C=(0,y.v)((a=>{let{vacancyCreateDraftId:e}=a;return e})),B=(0,y.Y)((a=>{let{auctionData:e}=a;return e.vacancyId})),S=(0,n.useDispatch)(),I=100*Number(e);return Number(t)>=I?null:(0,b.jsxs)(i.ElementShownAnchor,{fn:c(),vacancyId:B,bid:e,budget:t,draftId:C,initialBid:r,initialBudget:l,children:[(0,b.jsx)(s.Z,{borderRadius:24,padding:24,style:"warning",stretched:!0,actionCard:!1,children:(0,b.jsx)(d.x,{typography:"paragraph-2-regular",children:(0,p.formatToReactComponent)(f[x],{"{0}":(0,b.jsx)(u.r,{Element:"button",inline:!0,typography:"paragraph-2-regular",onClick:()=>{o()({vacancyId:B,bid:e,budget:t,draftId:C,initialBid:r,initialBudget:l}),v(I),(0,h.Jv)(S((0,h.Mr)({budget:String(I)})))},children:(0,b.jsx)(g.Z,{currency:j,inCents:!0,children:I})})})})}),(0,b.jsx)(m.X,{default:24})]})};f.displayName="Common/AuctionControls/Hint/Hint";const j=(0,v.Z)(f)},25098:function(a,e,t){t.d(e,{Z:()=>S});var n=t(85813),i=t(31900),r=t.n(i),o=t(42993),l=t(35936),c=t(73169),s=t(66570),d=t(25976),u=t(44138),m=t(32975),p=t(11288),h=t(93435),g=t(90614);const v="bid-rating-wrapper--bkjioOF8b4HYQUwl",y="bid-rating-wrapper-content--hItAh0gA2R8PiJl8",b="bid-rating-wrapper-loader--FI9_ffE0g4NKaASy",x="bid-rating-wrapper_loading--PokUyFS0Kmsh1BH4",f="bid-rating-wrapper_loading-with-children--R_SGbIG1zUFc6wGf";var j=t(74429);const C={[g.Xq.Rare]:{title:"auction.bidRating.rare.title",description:"auction.bidRating.rare.description"},[g.Xq.Average]:{title:"auction.bidRating.average.title",description:"auction.bidRating.average.description",sudoHint:"auction.bidRating.average.sudoHint"},[g.Xq.Often]:{title:"auction.bidRating.often.title",description:"auction.bidRating.often.description",sudoHint:"auction.bidRating.often.sudoHint"}},B=a=>{let{inversed:e,trls:t,children:i}=a;const p=(0,h.v)((a=>{let{auctionData:e}=a;return e})),B=(0,h.Y)((a=>{let{auctionData:e}=a;return e.bidRating.data})),S=(0,h.Y)((a=>{let{auctionData:e}=a;return e.currency})),I=(0,h.Y)((a=>{let{auctionData:e}=a;return e.bidRating.loading})),_=(0,h.v)((a=>{let{actualAccount:e}=a;return null!==e})),{canEditAuction:Z}=(0,u.wN)(p),{averageThresholdBid:D,bidFrequencyStatus:N,oftenThresholdBid:A}=B,w=(0,n.useCallback)((a=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.x,{typography:"title-5-semibold",children:t[C[a].title]}),(0,j.jsx)(l.X,{default:4}),(0,j.jsx)(o.x,{typography:"paragraph-2-regular",children:a===g.Xq.Often?t[C[g.Xq.Often].description]:(0,d.formatToReactComponent)(t[C[a].description],{"{0}":(0,j.jsx)(m.Z,{currency:S,inCents:!0,children:A})})})]})),[S,A,t]),k=(0,j.jsxs)("div",{className:r()(v,{[x]:I&&!i,[f]:I&&i}),children:[(0,j.jsx)("div",{className:y,children:(0,j.jsx)("div",{children:w(N)})}),(0,j.jsx)("div",{className:b,children:(0,j.jsx)(c.a,{size:24})}),i]}),M=_&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.X,{default:Z?24:20}),(0,j.jsxs)(o.x,{typography:"label-2-regular",style:"secondary",children:[(0,d.formatToReactComponent)(t[C[g.Xq.Often].sudoHint],{"{0}":(0,j.jsx)(o.x,{Element:"span",typography:"subtitle-2-semibold",style:"secondary",children:(0,j.jsx)(m.Z,{currency:S,inCents:!0,children:A})})}),D&&(0,d.formatToReactComponent)(t[C[g.Xq.Average].sudoHint],{"{0}":(0,j.jsx)(o.x,{Element:"span",typography:"subtitle-2-semibold",style:"secondary",children:(0,j.jsx)(m.Z,{currency:S,inCents:!0,children:D})})})]})]});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(s.Z,{borderRadius:24,padding:24,style:(()=>{if(!e)return D?"warning":N===g.Xq.Rare?"negative":"extra-1"})(),stretched:!0,actionCard:!1,children:[k,Z&&M]}),!Z&&M]})};B.displayName="Auction/Common/BidRating/BidRating";const S=(0,p.Z)(B)},95604:function(a,e,t){t.d(e,{Z:()=>M});var n=t(32993),i=t(79235),r=t(42993),o=t(35936),l=t(23883),c=t(17083),s=t(13266),d=t(11854),u=t(82014),m=t(98965),p=t(22421),h=t(25175),g=t(11288);const v="principle-list--ftT2TWVpnwAmtKuE",y="principle-list-item--TLHEooH3lLAhD0F4",b="how-auction-works-image--qWTpDngJqIcOOt8K",x="factor-list--VCfhi0wSc4ginp5L",f="factor-list-item--yQ6kAhEwxVoIiCie";var j=t(74429);const C="auction.howItWorks.title",B="auction.howItWorks.principle",S={0:"auction.howItWorks.principle.listItem.0",1:"auction.howItWorks.principle.listItem.1",2:"auction.howItWorks.principle.listItem.2"},I="auction.howItWorks.principle.description",_={bid:"auction.howItWorks.subTitle.bid",factor:"auction.howItWorks.subTitle.factor"},Z="auction.howItWorks.factor",D={0:"auction.howItWorks.factor.listItem.0",1:"auction.howItWorks.factor.listItem.1"},N="auction.howItWorks.factor.relevance",A={0:"auction.howItWorks.bid.description.0",1:"auction.howItWorks.bid.description.1"},w="close",k=a=>{let{onClose:e,trls:t,visible:g}=a;const{isMobile:k}=(0,n.Z)(),M=(0,j.jsx)(i.z,{onClick:e,mode:"secondary",children:t[w]}),R=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.x,{children:t[B]}),(0,j.jsx)(o.X,{default:16}),(0,j.jsxs)("ol",{className:v,children:[(0,j.jsxs)("li",{className:y,children:[(0,j.jsx)(r.x,{children:t[S[0]]}),(0,j.jsx)(o.X,{default:16})]}),(0,j.jsxs)("li",{className:y,children:[(0,j.jsx)(r.x,{children:t[S[1]]}),(0,j.jsx)(o.X,{default:16})]}),(0,j.jsxs)("li",{className:y,children:[(0,j.jsx)(r.x,{children:t[S[2]]}),(0,j.jsx)(o.X,{default:16})]})]}),(0,j.jsx)(o.X,{default:8}),(0,j.jsx)(r.x,{children:t[I]}),(0,j.jsx)(o.X,{default:32}),(0,j.jsx)(l.D,{Element:"h2",size:"medium",children:t[_.factor]}),(0,j.jsx)(o.X,{default:16}),(0,j.jsx)(r.x,{children:t[Z]}),(0,j.jsx)(o.X,{default:8}),(0,j.jsxs)("ul",{className:x,children:[(0,j.jsx)("li",{className:f,children:(0,j.jsx)(r.x,{children:t[D[0]]})}),(0,j.jsx)("li",{className:f,children:(0,j.jsx)(r.x,{children:t[D[1]]})})]}),(0,j.jsx)(o.X,{default:16}),(0,j.jsx)(r.x,{children:t[N]}),(0,j.jsx)(o.X,{default:16}),(0,j.jsx)("div",{className:b}),(0,j.jsx)(o.X,{default:32}),(0,j.jsx)(l.D,{Element:"h2",size:"medium",children:t[_.bid]}),(0,j.jsx)(o.X,{default:16}),(0,j.jsx)(r.x,{children:t[A[0]]}),(0,j.jsx)(o.X,{default:16}),(0,j.jsx)(r.x,{children:t[A[1]]}),(0,j.jsx)(o.X,{default:24})]});return k?(0,j.jsx)(c.R,{visible:g,onClose:e,header:(0,j.jsx)(s.v,{title:t[C]}),footer:(0,j.jsx)(d.W,{children:M}),children:R}):(0,j.jsx)(u.u,{visible:g,onClose:e,title:t[C],actions:(0,j.jsx)(m.a,{mode:"secondary",onClick:e,icon:h.Z}),titleSize:"large",footer:(0,j.jsx)(p.o,{primaryActions:M}),children:R})};k.displayName="Modals/HowItWorksModal/index/HowItWorksModal";const M=(0,g.Z)(k)},56469:function(a,e,t){t.d(e,{Z:()=>da});var n=t(85813),i=t(35966),r=t(80469),o=t.n(r),l=t(46724),c=t(9198),s=t(16314),d=t.n(s),u=t(99986),m=t.n(u),p=t(66570),h=t(42993),g=t(35936),v=t(79235),y=t(99751),b=t(73169),x=t(82014),f=t(98965),j=t(22421),C=t(17083),B=t(13266),S=t(11854),I=t(25175),_=t(26424),Z=t(27719),D=t.n(Z),N=t(30947),A=t(15802),w=t(63124),k=t(44138),M=t(93435),R=t(90614),E=t(67369),V=t(19012),X=t(81216),F=t(41693),q=t(74429);const Y=()=>{const a=(0,M.Y)((a=>{let{auctionData:e}=a;return e.controls[R.h_.Bid]})),e=(0,M.Y)((a=>{let{auctionData:e}=a;return e.controls[R.h_.Budget]})),t=(0,i.useDispatch)(),r=(0,n.useCallback)(((n,i,r)=>{const o=a.minValue,l=e.minValue,c=(0,F.J)({bid:n,budget:i,minBid:o,minBudget:l});t([(0,R.ub)({fieldName:R.h_.Bid,value:n,error:c[R.h_.Bid],showError:r!==R.h_.Bid&&Boolean(c[R.h_.Bid])}),(0,R.ub)({fieldName:R.h_.Budget,value:i,error:c[R.h_.Budget],showError:r!==R.h_.Budget&&Boolean(c[R.h_.Budget])})])}),[a.minValue,e.minValue,t]),o=(0,n.useCallback)(((n,i)=>{const r=a.minValue,o=e.minValue,l=(0,F.J)({bid:n,budget:i,minBid:r,minBudget:o});t([(0,R.s6)(!0),(0,R.ub)({fieldName:R.h_.Bid,value:n,error:l[R.h_.Bid],showError:!!l[R.h_.Bid]}),(0,R.ub)({fieldName:R.h_.Budget,value:i,error:l[R.h_.Budget],showError:!!l[R.h_.Budget]})])}),[a.minValue,e.minValue,t]);return(0,q.jsx)(E.Z,{bidError:a.error,bidShowError:a.showError,bidValue:a.value,minBid:a.minValue,budgetError:e.error,budgetShowError:e.showError,budgetValue:e.value,minBudget:e.minValue,onBidBlur:()=>{t((0,R.ub)({fieldName:R.h_.Bid,showError:Boolean(a.error)}))},onBidChange:a=>{r(a,e.value,R.h_.Bid)},onBidFocus:()=>{t((0,R.ub)({fieldName:R.h_.Bid,showError:!1}))},onBudgetBlur:()=>{t((0,R.ub)({fieldName:R.h_.Budget,showError:Boolean(e.error)}))},onBudgetChange:e=>{t((0,R.s6)(!0)),r(a.value,e,R.h_.Budget),(0,k.Jv)(t((0,k.Mr)({budget:e})))},onBudgetFocus:()=>{t((0,R.ub)({fieldName:R.h_.Budget,showError:!1}))},onBudgetPlusOrMinusClick:e=>{o(a.value,e),(0,k.Jv)(t((0,k.Mr)({budget:e})))},renderBidError:()=>(0,q.jsx)(w.w,{invalid:a.showError,errorMessage:(0,q.jsx)(V.Z,{error:a.error}),topSpacing:8}),renderBudgetError:()=>(0,q.jsx)(w.w,{invalid:e.showError,errorMessage:(0,q.jsx)(V.Z,{error:e.error}),topSpacing:8}),renderFewResponsesCard:()=>(0,q.jsx)(X.Z,{bid:a.value,budget:e.value,initialBid:a.initialValue,initialBudget:e.initialValue,onClick:e=>{t((0,R.s6)(!0)),r(a.value,String(e),R.h_.Budget)}})})};Y.displayName="Auction/Common/AuctionControls/AuctionControls";const P=Y;var L=t(25098),T=t(21060),U=t(98719),W=t(11288),z=t(91617),O=t(77569);const H="centering-wrapper--gBo73Qgf5GIoka4z",Q="auction.title",K="auction.description",G="auction.creation.draftTitle",J="auction.creation.draftDescription",$="auction.creation.draftAction",aa="auction.howItWorks.trigger",ea="Cancel",ta="employer.auction.price.purchase",na="employer.myvacancies.auctionModal.create",ia=a=>{let{hideModal:e,loading:t,showHowItWorksModal:r,trls:o,visible:l,onCampaignCreated:c,isWebView:s=!1}=a;const u=(0,M.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.controls[R.h_.Bid])||R.n$})),Z=(0,M.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.controls[R.h_.Budget])||R.n$})),w=(0,M.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.campaignCreationStatus)===R.FN.CampaignDraftCreated})),k=(0,M.v)((a=>{var e;let{auctionData:t}=a;return null==t||null===(e=t.campaignDraft)||void 0===e?void 0:e.purchaseUrl})),E=(0,M.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.productInfo.data)||null})),V=(0,M.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.productInfo.loading)||!1})),X=(0,M.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.vacancyId)||null})),F=(0,M.v)((a=>{var e;let{auctionData:t}=a;return null==t||null===(e=t.campaignDraft)||void 0===e?void 0:e.campaignDraftId})),Y=(0,M.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.campaignCreationStatus})),W=(0,M.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.bidRating.data.maxBidAmongSimilarVacancies})),ia=(0,M.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.useAvailableMoney})),ra=(0,M.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.availableMoney})),{addNotification:oa}=(0,U.lm)(),{pathname:la,query:ca}=(0,M.v)((a=>{let{router:e}=a;return e.location})),sa=(0,i.useDispatch)(),da=(0,_.usePush)(),[ua,ma,pa]=(0,z.Z)(!1),ha=t||V||!ia&&!E||!X||ua,ga=(0,n.useCallback)(((a,e,t)=>{const n=D()(la),{error:i,...r}=ca;n.params={...r,created:a,...e?{error:!0}:{},...t?{closed:!0}:{}},da(n.href)}),[la,da,ca]),va=(0,n.useCallback)((()=>{if(ha||u.error||Z.error)return;ma();const a=Number(u.value),t=Number(Z.value);(E?(0,N.Zw)([E],{httmFromLabel:"clickmePopup",source:"clickmePopup"},X,a,t,oa,da,F):(0,N.jZ)(X,a,t,(a=>{sa((0,R.Zl)(a)),null==c||c(a),s?ga(!0):e()}),s?()=>ga(!1,!0):e,oa)).catch(console.error).finally(pa),m()({vacancyId:X,campaignDraftId:F,campaignCreationStatus:Y,bidInCents:a,budgetInCents:t,maxBidAmongSimilarVacancies:W,useAvailableMoney:!!ia,availableMoneyInCents:null!=ra?ra:0})}),[ha,u.error,u.value,Z.error,Z.value,ma,E,X,oa,da,F,s,e,pa,Y,W,ia,ra,sa,c,ga]),ya=(0,n.useCallback)((()=>{d()({vacancyId:X,campaignDraftId:F,campaignCreationStatus:Y,campaignId:void 0,campaignStatus:void 0}),r()}),[Y,F,r,X]),ba=s?()=>ga(!1,!1,!0):e,xa=(0,q.jsxs)("div",{children:[w&&k?(0,q.jsx)(p.Z,{actionCard:!1,borderRadius:24,padding:24,style:"warning",stretched:!0,children:(0,q.jsxs)(T.ZP,{alignItems:T.m9.Start,disableOnXS:!0,children:[(0,q.jsxs)("div",{children:[(0,q.jsx)(h.x,{typography:"title-5-semibold",children:o[G]}),(0,q.jsx)(g.X,{default:4}),(0,q.jsx)(h.x,{typography:"paragraph-2-regular",children:o[J]})]}),(0,q.jsx)(g.X,{default:20,gteS:0}),(0,q.jsx)(v.z,{size:"medium",style:"neutral",mode:"primary",Element:"a",href:k,children:o[$]})]})}):(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(h.x,{children:[o[K],O.T4,(0,q.jsx)(y.r,{inline:!0,Element:"button",onClick:ya,children:o[aa]})]})}),(0,q.jsx)(g.X,{default:24}),t?(0,q.jsxs)("div",{className:H,children:[(0,q.jsx)(b.a,{size:24}),(0,q.jsx)(g.X,{default:24})]}):(0,q.jsxs)(A.Z,{children:[(0,q.jsx)(L.Z,{}),(0,q.jsx)(g.X,{default:24}),(0,q.jsx)(P,{}),(0,q.jsx)(g.X,{default:24,gteS:0})]})]}),fa=(0,q.jsx)(v.z,{"data-qa":ia&&ra?"create-auction-button":"purchase-auction-button",disabled:ha,size:"medium",style:"accent",mode:"primary",loading:t||V,onClick:va,children:ia&&ra?o[na]:o[ta]}),ja=!s&&(0,q.jsx)(v.z,{size:"medium",style:"accent",mode:"secondary",onClick:e,"data-qa":"auction-cancel-button",children:o[ea]});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(x.u,{visible:l,onClose:ba,title:o[Q],actions:!s&&(0,q.jsx)(f.a,{mode:"secondary",onClick:ba,icon:I.Z}),titleSize:"medium",footer:(0,q.jsx)(j.o,{primaryActions:(0,q.jsxs)(q.Fragment,{children:[ja,fa]})}),"data-qa":"auction-creation-modal",children:xa}),(0,q.jsx)(C.R,{height:"full-screen",visible:l,onClose:ba,header:(0,q.jsx)(B.v,{title:o[Q],right:s?void 0:(0,q.jsx)(f.a,{mode:"secondary",onClick:ba,icon:I.Z})}),footer:(0,q.jsxs)(S.W,{children:[fa,ja]}),"data-qa":"auction-creation-bottom-sheet",children:xa})]})};ia.displayName="Auction/Modals/AuctionCreationModal/AuctionCreationModal";const ra=(0,W.Z)(ia);var oa=t(95604),la=t(72900),ca=t(20567);const sa=(0,l.makeSetStoreField)("auctionData"),da=a=>{let{vacancyId:e,campaignCreationStatus:t,isWebView:r=!1}=a;const[l,s,d]=(0,z.Z)(!1),[u,m,p]=(0,z.Z)(!1),[h,g,v]=(0,z.Z)(!1),{addNotification:y}=(0,U.lm)(),b=(0,n.useCallback)((()=>{d(),m()}),[d,m]),x=(0,n.useCallback)((()=>{p(),s()}),[p,s]),f=(0,i.useDispatch)();return{showAuctionCreationModal:(0,n.useCallback)((async()=>{try{g(),s(),o()({vacancyId:e,campaignCreationStatus:t,campaignId:void 0,campaignStatus:void 0});const a=await ca.ZP.get("/shards/vacancy/auction/by_vacancy_id",{params:{vacancyId:e}});if(!R.nb.includes(a.campaignCreationStatus))return d(),void y(la.X,{props:{errorType:la.h.AlreadyCreated}});f(sa(a))}catch(a){d(),(0,c.ZP)(a,y)}finally{v()}}),[t,f,y,v,d,s,g,e]),renderAuctionCreationModal:(0,n.useCallback)((a=>(0,q.jsxs)(q.Fragment,{children:[l&&(0,q.jsx)(ra,{isWebView:r,hideModal:d,loading:h,showHowItWorksModal:b,visible:l,onCampaignCreated:a}),(0,q.jsx)(oa.Z,{onClose:x,visible:u})]})),[l,d,u,h,x,b,r])}}},75535:function(a,e,t){t.d(e,{Z:()=>Oe});var n=t(85813),i=t(35966),r=t(80469),o=t.n(r),l=t(46724),c=t(9198),s=t(73169),d=t(79235),u=t(35936),m=t(82014),p=t(98965),h=t(22421),g=t(17083),v=t(13266),y=t(11854),b=t(25175),x=t(26424),f=t(27719),j=t.n(f),C=t(45520),B=t(3722),S=t.n(B),I=t(58352),_=t(93435),Z=t(90614);const D="modal-content-shown-anchor--uwv2WMmjoAObL4iO";var N=t(74429);const A=a=>{let{children:e}=a;const{bidRating:t,controls:n,vacancyId:i,campaignDraft:r,currentVacancyAuctionCampaign:o,campaignCreationStatus:l,auctionStatistics:c}=(0,_.Y)((a=>{let{auctionData:e}=a;return e})),s=(0,_.v)((a=>{let{vacancyCreateDraftId:e}=a;return e})),d=(0,I.Z)(),u=o?String(o.campaignId):void 0,m=r?String(r.campaignDraftId):void 0,p=null==o?void 0:o.campaignStatus;return(0,N.jsx)(C.ElementShownAnchor,{fn:S(),vacancyId:i,campaignId:u,campaignDraftId:m,campaignStatus:p,campaignCreationStatus:l,draftId:s,bid:n[Z.h_.Bid].value,budget:n[Z.h_.Budget].value,competingCampaignBids:JSON.stringify(t.data.competingCampaignBids),competingCampaignIds:JSON.stringify(t.data.competingCampaignIds),clicks:c.clicks,response:c.responses,className:D,initialBid:n[Z.h_.Bid].initialValue,initialBudget:n[Z.h_.Budget].initialValue,ratingStatus:t.data.bidFrequencyStatus,hhtmSourceLabel:d,children:e})};A.displayName="Auction/Analytics/AuctionContentStatisticsShown/AuctionContentStatisticsShown";const w=A;var k=t(25098),M=t(66570),R=t(42993),E=t(14525),V=t.n(E),X=t(25976),F=t(32975),q=t(11288),Y=t(77569);const P="budget__status-hint--uYlPsgzcIOs3IuPe",L="row--WSkW9SKMtgcujdFW",T="budget-amount--R4HJNiuDD9AX_KFd",U="auction.budget.title",W="outOf",z="auction.budget.enoughFor",O={one:"click.one",some:"click.some",many:"click.many"},H={[Z.YX.CampaignLowBalance]:"auction.budget.campaignLowBalance",[Z.YX.AccountLowBalance]:"auction.budget.accountLowBalance"},Q=a=>{let{trls:e,button:t}=a;const n=(0,_.Y)((a=>{let{auctionData:e}=a;return e.currentVacancyAuctionCampaign})),i=(0,_.Y)((a=>{let{auctionData:e}=a;return e.controls[Z.h_.Bid].value||""})),r=(0,_.Y)((a=>{let{auctionData:e}=a;return e.currency})),o=(0,_.Y)((a=>{let{auctionData:e}=a;return e.accountBalance}));if(!n)return null;const l=((a,e)=>a?Math.floor(e/a):0)(Number(i),n.campaignBalance);return(0,N.jsxs)(M.Z,{actionCard:!1,borderRadius:24,"data-qa":"auction-budget-banner",padding:24,showBorder:!0,stretched:!0,children:[(0,N.jsxs)("div",{className:L,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(R.x,{style:"secondary",typography:"label-2-regular",children:e[U]}),(0,N.jsx)(u.X,{default:4}),(0,N.jsxs)("div",{className:T,children:[(0,N.jsx)(R.x,{Element:"span",typography:"title-4-semibold",children:(0,N.jsx)(F.Z,{currency:r,groupSeparator:Y.H3,inCents:!0,render:(a,e)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{"data-qa":"auction-budget-remainder",children:a}),Y.qD,e]}),children:n.campaignBalance})}),Y.T4,(0,N.jsxs)(R.x,{Element:"span",style:"secondary",typography:"subtitle-1-semibold",children:[e[W],Y.qD,(0,N.jsx)(F.Z,{currency:r,groupSeparator:Y.H3,inCents:!0,children:n.budget})]})]})]}),t]}),(0,N.jsx)(u.X,{default:12}),n.campaignStatus===Z.YX.CampaignLowBalance||n.campaignStatus===Z.YX.AccountLowBalance?(0,N.jsx)(R.x,{typography:"label-2-regular",children:(0,N.jsx)("span",{className:P,children:(0,X.formatToReactComponent)(e[H[n.campaignStatus]],{"{0}":(0,N.jsx)(F.Z,{currency:r,inCents:!0,children:o})})})}):(0,N.jsxs)(R.x,{typography:"label-2-regular",children:[e[z],Y.qD,(0,N.jsx)(V(),{value:l,one:e[O.one],some:e[O.some],many:e[O.many],zero:`0 ${e[O.many]}`})]})]})};Q.displayName="Common/BudgetBanner/index/BudgetBanner";const K=(0,q.Z)(Q);var G=t(2019),J=t(63124),$=t(68676),aa=t(19012),ea=t(41693),ta=t(59118);const na="auction.controls.bid",ia={0:"auction.controls.bid.info.0",1:"auction.controls.bid.info.1"},ra=a=>{let{trls:e}=a;const t=(0,_.Y)((a=>{var e;let{auctionData:t}=a;return null===(e=t.currentVacancyAuctionCampaign)||void 0===e?void 0:e.campaignBalance})),n=(0,_.Y)((a=>{let{auctionData:e}=a;return e.controls[Z.h_.Bid]})),r=(0,_.Y)((a=>{let{auctionData:e}=a;return e.controls[Z.h_.Budget]})),o=(0,_.Y)((a=>{let{auctionData:e}=a;return e.currency})),l=(0,i.useDispatch)(),c=(a,e)=>{const i=(0,ea.J)({bid:a,budget:r.value,minBid:n.minValue,minBudget:r.minValue,campaignBalance:t});l([(0,Z.ub)({fieldName:Z.h_.Bid,value:a,error:i[Z.h_.Bid],showError:e&&!!i[Z.h_.Bid]})])};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(G.l,{info:(0,N.jsxs)(N.Fragment,{children:[e[ia[0]],(0,N.jsx)(u.X,{default:8}),e[ia[1]]]}),children:(0,N.jsx)(R.x,{typography:"label-2-regular",style:"secondary",children:e[na]})}),(0,N.jsx)(u.X,{default:8}),(0,N.jsx)($.Z,{inversed:!0,invalid:n.showError,error:n.error,maxLength:7,name:Z.h_.Bid,min:n.minValue,value:n.value,onChange:a=>{c(a,!1)},onBlur:()=>{l((0,Z.ub)({fieldName:Z.h_.Bid,showError:Boolean(n.error)}))},onFocus:()=>{l((0,Z.ub)({fieldName:Z.h_.Bid,showError:!1}))},postfix:(0,N.jsx)(ta.Z,{value:o}),onPlusOrMinusClick:a=>{c(a,!0)},"data-qa":"auction-bid-control",minusDataQa:"bid-minus",plusDataQa:"bid-plus"}),(0,N.jsx)(J.w,{invalid:n.showError,errorMessage:(0,N.jsx)(aa.Z,{error:n.error}),topSpacing:8})]})};ra.displayName="Modals/AuctionEditingModal/BidControl/BidControl";const oa=(0,q.Z)(ra);var la=t(44138),ca=t(98719),sa=t(92490),da=t(91617),ua=t(38911),ma=t(20567);const pa="auction.modal.restore",ha="auction.modal.pause",ga=a=>{let{auctionLoading:e,onRestoreCampaign:t,onStopCampaign:n,onCampaignInfoUpdate:r,trls:o}=a;const l=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.currentVacancyAuctionCampaign})),{addNotification:c}=(0,ca.lm)(),s=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.controls[Z.h_.Bid]}))||Z.n$,[u,m,p]=(0,da.Z)(!1),h=(0,i.useDispatch)(),g=!l,v=(null==s?void 0:s.initialValue)!==(null==s?void 0:s.value);if((0,la.Pp)(v,null==l?void 0:l.campaignStatus))return null;const{newStatus:y,style:b,mode:x,trlKey:f}=(j=null==l?void 0:l.campaignStatus,(0,la.VK)(j)?{newStatus:Z.YX.Active,style:"accent",mode:"primary",trlKey:pa}:{newStatus:Z.YX.Blocked,style:"negative",mode:"secondary",trlKey:ha});var j;return(0,N.jsx)(d.z,{size:"medium",style:b,mode:x,disabled:g,loading:e||u,onClick:()=>{m();h(((a,e,t,n)=>i=>ma.ZP.put("/shards/vacancy/auction/update_status_campaign",null,{params:{campaignId:a,campaignStatus:e}}).then((a=>{let{data:e}=a;e?(i((0,Z.vv)(e.campaignStatus)),t&&t(e)):n(ua.Z)}),(()=>{n(ua.Z)})))(null==l?void 0:l.campaignId,y,(a=>{null==r||r(a),(0,la.VK)(null==l?void 0:l.campaignStatus)?(c(sa.Z),t()):n()}),c)).catch(console.error).finally(p)},"data-qa":"auction-change-status",children:o[f]})};ga.displayName="Modals/AuctionEditingModal/ChangeStatusButton/ChangeStatusButton";const va=(0,q.Z)(ga);var ya=t(42918),ba=t.n(ya),xa=t(30947);const fa=(0,l.makeSetStoreField)("auctionData"),ja="Save",Ca="auction.edit.restoreAndSave",Ba=(a,e)=>(0,la.Pp)(a,e)?Ca:ja,Sa=a=>{let{trls:e,auctionLoading:t,onSave:n,onError:r,onCampaignInfoUpdate:o}=a;const l=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.bidRating.loading})),c=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.controls[Z.h_.Bid]}))||Z.n$,s=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.controls[Z.h_.Budget]}))||Z.n$,u=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.currentVacancyAuctionCampaign})),m=(0,_.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.vacancyId)||null})),{addNotification:p}=(0,ca.lm)(),[h,g,v]=(0,da.Z)(!1),y=(0,i.useDispatch)(),b=(null==c?void 0:c.initialValue)!==(null==c?void 0:c.value),x=!b||!m||!u,f=t||l||h;if(!b&&(0,la.VK)(null==u?void 0:u.campaignStatus))return null;if(x)return null;return(0,N.jsx)(d.z,{style:"accent",mode:"primary",disabled:x,loading:f,onClick:()=>{if(x||f||s.error||c.error)return;g();const{budget:a,campaignId:e}=u,t=Number(c.value);if((0,la.Pp)(b,u.campaignStatus)){const i=a=>{y((0,Z.lt)(a)),null==o||o(a),n()};y((0,xa.F2)(m,e,t,a,i,r,p)).finally(v)}else{const i=a=>{y(fa(a)),null==o||o(a.currentVacancyAuctionCampaign),n(),p(sa.Z)};y((0,xa.Hl)(m,e,t,a,i,p,r)).finally(v)}ba()(y((0,la.sy)("BID")))},"data-qa":"edit-auction-button",children:e[Ba(b,null==u?void 0:u.campaignStatus)]})};Sa.displayName="Modals/AuctionEditingModal/SaveButton/SaveButton";const Ia=(0,q.Z)(Sa);var _a=t(98788),Za=t.n(_a),Da=t(99751),Na=t(62252),Aa=t(33746);const wa="label.active",ka="label.pause",Ma="label.limitReached",Ra="label.no.money",Ea={[Z.YX.Active]:{label:wa,style:"positive"},[Z.YX.Blocked]:{label:ka,style:"neutral"},[Z.YX.CampaignLowBalance]:{label:Ma,style:"negative"},[Z.YX.AccountLowBalance]:{label:Ra,style:"negative"}},Va=a=>{let{dataQaPrefix:e,trls:t}=a;const n=(0,_.v)((a=>{var e;let{auctionData:t}=a;return null==t||null===(e=t.currentVacancyAuctionCampaign)||void 0===e?void 0:e.campaignStatus}));if(!n)return null;const i=Ea[n]||Ea[Z.YX.Active];return(0,N.jsx)(Aa.V,{size:"large",style:i.style,"data-qa":`${e}-campaign-status-${n}`,children:t[i.label]})};Va.displayName="Common/CampaignStatus/CampaignStatusLabel/CampaignStatusLabel";const Xa=(0,q.Z)(Va);var Fa=t(52127),qa=t(21060);const Ya="root--hIx7k2ERfxpZFQC_",Pa="content--J9mY4RIKoxgjqf0N",La="status--GkmZW1yUi90nznc8",Ta="conversion--YdvsWIbhT8U3CFXZ",Ua="date--EXj2uuQiXMJWM6mv",Wa="auction.statistics.status",za="auction.statistics.responses",Oa="auction.statistics.clicks",Ha="auction.statistics.conversionToResponse",Qa="auction.statistics.startDate",Ka="auction.statistics.tooltipText",Ga="auction.statistics.all",Ja=a=>{let{trls:e}=a;const t=(0,l.useSelectorNonNullable)((a=>{let{auctionData:e}=a;return e.vacancyId||""})),n=(0,l.useSelectorNonNullable)((a=>{let{auctionData:e}=a;return e.auctionStatistics.clicks||"—"})),i=(0,l.useSelectorNonNullable)((a=>{let{auctionData:e}=a;return e.auctionStatistics.responses||"—"})),r=(0,l.useSelectorNonNullable)((a=>{let{auctionData:e}=a;return e.auctionStatistics.conversion?`${e.auctionStatistics.conversion}%`:"—"})),o=(0,l.useSelectorNonNullable)((a=>{let{auctionData:e}=a;return e.auctionStatistics.startAuctionDate?(0,Na.default)(e.auctionStatistics.startAuctionDate,"d MMMM yyyy"):"–"})),c=`/employer/statistics/vacancy_conversion/?vacancyId=${t}`;return(0,N.jsx)(M.Z,{actionCard:!1,borderRadius:24,"data-qa":"auction-statistics-banner",padding:24,showBorder:!0,stretched:!0,verticalStretched:!0,children:(0,N.jsxs)("div",{className:Ya,children:[(0,N.jsxs)("div",{className:Pa,children:[(0,N.jsxs)("div",{className:La,children:[(0,N.jsxs)(qa.ZP,{children:[(0,N.jsx)(R.x,{typography:"label-2-regular",children:e[Wa]}),(0,N.jsx)(Xa,{dataQaPrefix:"edit-auction-modal"})]}),(0,N.jsx)(u.X,{default:20})]}),(0,N.jsx)(u.X,{default:20}),(0,N.jsxs)(qa.ZP,{children:[(0,N.jsx)(R.x,{typography:"label-2-regular",children:e[Oa]}),(0,N.jsx)(R.x,{typography:"label-2-regular","data-qa":"auction-statistics-banner-clicks",children:n})]}),(0,N.jsx)(u.X,{default:20}),(0,N.jsxs)(qa.ZP,{children:[(0,N.jsx)(R.x,{typography:"label-2-regular",children:e[za]}),(0,N.jsx)(R.x,{typography:"label-2-regular","data-qa":"auction-statistics-banner-responses",children:i})]}),(0,N.jsx)(u.X,{default:20}),(0,N.jsxs)(qa.ZP,{children:[(0,N.jsx)("div",{className:Ta,children:(0,N.jsx)(R.x,{typography:"label-2-regular",children:(0,N.jsx)(Fa.Z,{tipContent:e[Ka],fieldName:e[Ha],withoutVertPadding:!0,children:e[Ha]})})}),(0,N.jsx)(R.x,{typography:"label-2-regular","data-qa":"auction-statistics-banner-conversion",children:r})]}),(0,N.jsx)(u.X,{default:20}),(0,N.jsxs)(qa.ZP,{children:[(0,N.jsx)(R.x,{typography:"label-2-regular",children:e[Qa]}),(0,N.jsx)(R.x,{typography:"label-2-regular","data-qa":"auction-statistics-banner-start-date",children:(0,N.jsx)("div",{className:Ua,children:o})})]})]}),(0,N.jsx)(u.X,{default:24}),(0,N.jsx)("div",{children:(0,N.jsx)(Da.r,{"data-qa":"auction-statistics-banner-link-all-statistics",target:"_blank",rel:"noopener noreferrer",Element:"a",href:c,onClick:()=>Za()({vacancyId:t}),children:e[Ga]})})]})})};Ja.displayName="Modals/AuctionEditingModal/StatisticsBanner/StatisticsBanner";const $a=(0,q.Z)(Ja),ae=()=>{const a=(0,_.Y)((a=>{let{auctionData:e}=a;return e.vacancyInfo.areaName})),e=(0,_.Y)((a=>{let{auctionData:e}=a;return e.vacancyInfo.name}));return(0,N.jsxs)(R.x,{style:"secondary",typography:"paragraph-2-regular",children:[e,",",Y.qD,a]})};ae.displayName="Modals/AuctionEditingModal/VacancyAndArea/VacancyAndArea";const ee=ae,te="modal-loader-wrapper--_EjXiHkwWkwQgQ6E",ne="modal-content-wrapper--q2LGb9bn98Y1xtca",ie="modal-content-statistics--uMsuW2CuFtQCFgja",re="auction.title",oe="auction.edit.openBudgetModal",le=a=>{let{onClose:e,visible:t,loading:n,showBudgetModal:i,onCampaignInfoUpdate:r,trls:o,isWebView:l=!1}=a;const{pathname:c,query:f}=(0,_.v)((a=>{let{router:e}=a;return e.location})),C=(0,x.usePush)(),B=(a,e,t)=>{const n=j()(c),{error:i,...r}=f;n.params={...r,saved:a,...e?{error:!0}:{},...t?{closed:!0}:{}},C(n.href)},S=()=>{l?B(!0):e()},I=l?()=>B(!1,!1,!0):e,Z=(0,N.jsxs)(N.Fragment,{children:[n?(0,N.jsx)("div",{className:te,children:(0,N.jsx)(s.a,{size:24})}):(0,N.jsxs)("div",{className:ne,children:[(0,N.jsx)("div",{className:ie,children:(0,N.jsx)($a,{})}),(0,N.jsxs)(w,{children:[(0,N.jsx)(K,{button:(0,N.jsx)(d.z,{size:"medium",style:"accent",mode:"secondary",onClick:i,"data-qa":"open-auction-replenishment",children:o[oe]})}),(0,N.jsx)(u.X,{default:16}),(0,N.jsxs)(k.Z,{children:[(0,N.jsx)(u.X,{default:20}),(0,N.jsx)(oa,{})]})]})]}),(0,N.jsx)(u.X,{default:24,gteS:0})]}),D=(0,N.jsx)(va,{auctionLoading:n,onStopCampaign:()=>{l&&B(!0)},onRestoreCampaign:S,onCampaignInfoUpdate:r}),A=(0,N.jsx)(Ia,{auctionLoading:n,onSave:S,onError:()=>{l?B(!1,!0):e()},onCampaignInfoUpdate:r});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.u,{visible:t,onClose:I,title:o[re],titleDescription:(0,N.jsx)(ee,{}),actions:!l&&(0,N.jsx)(p.a,{mode:"secondary",onClick:I,icon:b.Z}),titleSize:"medium",size:"large",footer:(0,N.jsx)(h.o,{primaryActions:(0,N.jsxs)(N.Fragment,{children:[D,A]})}),"data-qa":"auction-editing-modal",children:Z}),(0,N.jsx)(g.R,{height:"full-screen",visible:t,onClose:I,header:(0,N.jsx)(v.v,{title:o[re],subtitle:(0,N.jsx)(ee,{}),right:l?void 0:(0,N.jsx)(p.a,{mode:"secondary",onClick:I,icon:b.Z})}),footer:(0,N.jsxs)(y.W,{children:[A,D]}),"data-qa":"auction-editing-bottom-sheet",children:Z})]})};le.displayName="Auction/Modals/AuctionEditingModal/AuctionEditingModal";const ce=(0,q.Z)(le),se=a=>{let{children:e}=a;const{bidRating:t,controls:n,vacancyId:i,campaignDraft:r,currentVacancyAuctionCampaign:o,campaignCreationStatus:l,auctionStatistics:c}=(0,_.Y)((a=>{let{auctionData:e}=a;return e})),s=(0,_.v)((a=>{let{vacancyCreateDraftId:e}=a;return e})),d=(0,I.Z)(),u=o?String(o.campaignId):void 0,m=r?String(r.campaignDraftId):void 0,p=null==o?void 0:o.campaignStatus;return d?(0,N.jsx)(C.ElementShownAnchor,{fn:S(),vacancyId:i,campaignId:u,campaignDraftId:m,campaignStatus:p,campaignCreationStatus:l,draftId:s,bid:n[Z.h_.Bid].value,budget:n[Z.h_.Budget].value,competingCampaignBids:JSON.stringify(t.data.competingCampaignBids),competingCampaignIds:JSON.stringify(t.data.competingCampaignIds),clicks:c.clicks,response:c.responses,className:D,initialBid:n[Z.h_.Bid].initialValue,initialBudget:n[Z.h_.Budget].initialValue,ratingStatus:t.data.bidFrequencyStatus,hhtmSourceLabel:d,children:e}):(0,N.jsx)(N.Fragment,{children:e})};se.displayName="Auction/Analytics/AuctionContentBudgetReplenishShown/AuctionContentBudgetReplenishShown";const de=se;var ue=t(65418),me=t(76168),pe=t(49538),he=t(95269),ge=t.n(he),ve=t(9006),ye=t(86486),be=t(82207);const xe=a=>{let{value:e,...t}=a;return(0,ye.Z)({replenishment:Number(e)}),(0,N.jsx)(be.Z,{...t,value:e})};xe.displayName="AuctionControls/Replenishment/index/Replenishment";const fe=xe,je={AZN:"AZN",BYR:"BYR",EUR:"EUR",KZT:"KZT",RUR:"RUR",UAH:"UAH",USD:"USD",UZS:"UZS",GEL:"GEL",KGS:"KGS"},Ce="auction.budgetReplenishment.control.placeholder",Be="auction.budgetReplenishment.amount",Se=(a,e,t)=>{const n=ve.default.formatCostInCents(e);return ge()(a[Ce],{"{0}":n,"{1}":a[je[t]]})},Ie=["300000","500000","1200000"],_e=a=>{let{trls:e}=a;const t=(0,_.Y)((a=>{let{auctionData:e}=a;return e.currency})),n=(0,_.Y)((a=>{let{auctionData:e}=a;return e.controls[Z.h_.Replenishment]})),r=(0,_.Y)((a=>{var e;let{auctionData:t}=a;return(null===(e=t.currentVacancyAuctionCampaign)||void 0===e?void 0:e.budget)||0})),o=(0,i.useDispatch)(),l=a=>{const e=(a=>{let{replenishment:e,minReplenishment:t}=a;const n={[Z.h_.Replenishment]:void 0};return""===e&&(n[Z.h_.Replenishment]=Z.cj.ReplenishmentRequired),e&&Number(e)<t&&(n[Z.h_.Replenishment]=Z.cj.MinReplenishmentValue),e&&Number(e)<t&&(n[Z.h_.Replenishment]=Z.cj.MinReplenishmentValue),e&&!n[Z.h_.Replenishment]&&Number(e)%1e4&&(n[Z.h_.Replenishment]=Z.cj.InvalidReplenishment),n})({minReplenishment:n.minValue,replenishment:a}),t=String(r+Number(a));a!==n.value&&(o([(0,Z.s6)(!0),(0,Z.ub)({fieldName:Z.h_.Replenishment,value:a,error:e[Z.h_.Replenishment],showError:!1})]),(0,la.Jv)(o((0,la.Mr)({budget:t}))))},c=a=>()=>{l(a)};return(0,N.jsxs)("div",{children:[(0,N.jsx)(R.x,{typography:"label-2-regular",style:"secondary",children:e[Be]}),(0,N.jsx)(u.X,{default:8}),(0,N.jsx)(fe,{value:n.value,onChange:a=>{l(a)},placeholder:Se(e,n.minValue,t),postfix:(0,N.jsx)(ta.Z,{value:t}),invalid:n.showError,maxLength:7,name:Z.h_.Replenishment,onBlur:()=>{o((0,Z.ub)({fieldName:Z.h_.Replenishment,showError:Boolean(n.error)}))},onFocus:()=>{o((0,Z.ub)({fieldName:Z.h_.Replenishment,showError:!1}))},min:n.minValue,"data-qa":"auction-replenishment-control"}),(0,N.jsx)(J.w,{invalid:n.showError,errorMessage:(0,N.jsx)(aa.Z,{error:n.error}),topSpacing:8}),(0,N.jsx)(u.X,{default:16}),(0,N.jsx)(me.T,{children:Ie.map((a=>(0,N.jsx)(pe.X,{Element:"button",size:"small",onClick:c(a),children:(0,N.jsx)(R.x,{typography:"subtitle-2-semibold",children:(0,N.jsx)(F.Z,{currency:t,inCents:!0,children:a})})},a)))})]})};_e.displayName="Modals/BudgetReplenishmentModal/Control/Control";const Ze=(0,q.Z)(_e);var De=t(59327);const Ne=(0,l.makeSetStoreField)("auctionData"),Ae="employer.auction.price.purchase",we="auction.pay",ke=a=>{let{onClose:e,onCloseAll:t,onCampaignInfoUpdate:n,trls:r}=a;const o=(0,_.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.controls[Z.h_.Bid])||Z.n$})),l=(0,_.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.controls[Z.h_.Replenishment])||Z.n$})),c=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.currentVacancyAuctionCampaign})),s=(0,_.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.productInfo.data)||null})),u=(0,_.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.productInfo.loading)||!1})),m=(0,_.v)((a=>{let{auctionData:e}=a;return(null==e?void 0:e.vacancyId)||null})),p=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.useAvailableMoney})),h=(0,_.v)((a=>{let{auctionData:e}=a;return null==e?void 0:e.currency})),{addNotification:g}=(0,ca.lm)(),[v,y,b]=(0,da.Z)(!1),f=(0,i.useDispatch)(),j=(0,x.usePush)(),C=!c||u||!p&&!s&&!!l.value||!m||v;return(0,N.jsx)(d.z,{size:"medium",style:"accent",mode:"primary",onClick:()=>{if(C||l.error)return;y();const{budget:a,campaignId:i}=c,r=Number(o.initialValue),d=Number(l.value);if(s)(0,xa.WQ)([s],{httmFromLabel:"clickmePopupEdited",source:"clickmePopupEdited"},m,r,a+d,i,g,j).finally(b);else{const l=a=>{null==n||n(a.currentVacancyAuctionCampaign),f([Ne(a),(0,Z.ub)({fieldName:Z.h_.Bid,value:String(o.value)})]),e(),f([(0,De.XD)(!0),(0,De.mN)({currency:h,price:d})])},c=()=>{t()};f((0,xa.Hl)(m,i,r,a+d,l,g,c)).finally(b)}ba()(f((0,la.sy)("BUDGET")))},disabled:C,"data-qa":"auction-replenishment-button",children:s?r[Ae]:r[we]})};ke.displayName="Modals/BudgetReplenishmentModal/SubmitButton/SubmitButton";const Me=(0,q.Z)(ke),Re="auction-replenishment-content--E8wAwHzOlao0rAAy",Ee="auction.replenishment.title",Ve="Cancel",Xe=a=>{let{trls:e,visible:t,onCloseBudgetReplenishment:n,onCloseAll:i,onCampaignInfoUpdate:r,onClose:o}=a;const l=(0,N.jsxs)("div",{className:Re,children:[(0,N.jsx)(K,{}),(0,N.jsx)(u.X,{default:24}),(0,N.jsx)(Ze,{}),(0,N.jsx)(u.X,{default:32}),(0,N.jsx)(ue.Z,{}),(0,N.jsx)(u.X,{default:8})]}),c=(0,N.jsx)(d.z,{size:"medium",style:"accent",mode:"secondary",onClick:n,"data-qa":"auction-cancel-button",children:e[Ve]}),s=(0,N.jsx)(Me,{onClose:o,onCloseAll:i,onCampaignInfoUpdate:r});return(0,N.jsxs)(de,{children:[(0,N.jsx)(m.u,{visible:t,onClose:n,title:e[Ee],actions:(0,N.jsx)(p.a,{mode:"secondary",onClick:n,icon:b.Z}),titleSize:"medium",size:"small",footer:(0,N.jsx)(h.o,{primaryActions:(0,N.jsxs)(N.Fragment,{children:[c,s]})}),"data-qa":"auction-replenishment-modal",children:l}),(0,N.jsx)(g.R,{height:"full-screen",visible:t,onClose:n,header:(0,N.jsx)(v.v,{title:e[Ee],right:(0,N.jsx)(p.a,{mode:"secondary",onClick:n,icon:b.Z})}),footer:(0,N.jsxs)(y.W,{children:[s,c]}),"data-qa":"auction-replenishment-bottom-sheet",children:l})]})};Xe.displayName="Auction/Modals/BudgetReplenishmentModal/BudgetReplenishmentModal";const Fe=(0,q.Z)(Xe),qe="modal-content-inner--UNg8wZ1vA8L6tI_D",Ye="auction.confirmationModal.title",Pe="auction.confirmationModal.text",Le="auction.confirmationModal.button",Te=a=>{let{trls:e,onModalClose:t}=a;const{visible:n,data:i}=(0,l.useSelectorNonNullable)((a=>{let{auctionConfirmationModal:e}=a;return e})),r=(0,N.jsx)("div",{className:qe,children:(0,X.formatToReactComponent)(e[Pe],{"{0}":(0,N.jsx)(F.Z,{currency:i.currency,inCents:!0,children:i.price})})}),o=(0,N.jsx)(d.z,{size:"medium",style:"accent",mode:"primary",onClick:t,children:e[Le]});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.u,{visible:n,onClose:t,title:e[Ye],actions:(0,N.jsx)(p.a,{mode:"secondary",onClick:t,icon:b.Z}),titleSize:"small",footer:(0,N.jsx)(h.o,{primaryActions:o}),"data-qa":"auction-confirmation-modal",children:r}),(0,N.jsx)(g.R,{height:"full-screen",visible:n,onClose:t,header:(0,N.jsx)(v.v,{title:e[Ye]}),footer:(0,N.jsx)(y.W,{children:o}),"data-qa":"auction-confirmation-bottom-sheet",children:r})]})};Te.displayName="Auction/Modals/ConfirmationModal/ConfirmationModal";const Ue=(0,q.Z)(Te);var We=t(12744);const ze=(0,l.makeSetStoreField)("auctionData"),Oe=a=>{let{campaignId:e,campaignStatus:t,campaignCreationStatus:r,vacancyId:l,isWebView:s=!1}=a;const[d,u,m]=(0,da.Z)(!1),[p,h,g]=(0,da.Z)(!1),[v,y,b]=(0,da.Z)(!1),{addNotification:x}=(0,ca.lm)(),f=(0,i.useDispatch)();(0,We.Z)(la.oL,h);const j=(0,n.useCallback)((()=>{m(),h()}),[m,h]),C=(0,n.useCallback)((()=>{g(),u()}),[g,u]),B=(0,n.useCallback)((()=>{f((0,De.XD)(!1)),u()}),[f,u]),S=(0,n.useCallback)((async()=>{const a=await ma.ZP.get("/shards/vacancy/auction/by_vacancy_id",{params:{vacancyId:l}});f(ze(a))}),[f,l]);return{showAuctionEditingModal:(0,n.useCallback)((async()=>{try{o()({vacancyId:l,campaignId:e,campaignStatus:t,campaignCreationStatus:r}),y(),u(),await S()}catch(a){m(),(0,c.ZP)(a,x)}finally{b()}}),[x,r,e,t,b,m,S,u,y,l]),renderAuctionEditingModal:(0,n.useCallback)((a=>(0,N.jsxs)(N.Fragment,{children:[d&&(0,N.jsx)(ce,{isWebView:s,visible:d,onClose:m,loading:v,showBudgetModal:j,onCampaignInfoUpdate:a}),(0,N.jsx)(Fe,{visible:p,onCloseBudgetReplenishment:C,onClose:g,onCloseAll:()=>{g(),m()},onCampaignInfoUpdate:a}),(0,N.jsx)(Ue,{onModalClose:B})]})),[d,s,m,v,j,p,C,g,B])}}},86486:function(a,e,t){t.d(e,{Z:()=>h});var n=t(/*! react */85813),i=t(/*! react-redux */35966),r=t(/*! axios */62052),o=t.n(r),l=t(/*! bloko/common/hooks/useDebounce */45151),c=t.n(l),s=t(/*! src/api/fetchCalculatedProduct */31550),d=t(/*! src/hooks/useSelector */93435),u=t(/*! src/models/auctionData */90614),m=t(/*! src/models/price/productCodes */9989),p=t(/*! src/utils/fetcher */20567);const h=a=>{let{replenishment:e}=a;const t=(0,d.Y)((a=>{let{auctionData:e}=a;return e.currentVacancyAuctionCampaign})),r=(0,d.Y)((a=>{let{auctionData:e}=a;return e.useAvailableMoney||!1})),l=(0,d.Y)((a=>{let{auctionData:e}=a;return e.availableMoney||0})),h=(0,i.useDispatch)(),g=(0,n.useRef)(null),v=(0,n.useRef)(c()((a=>{const e=new(o().CancelToken)((a=>{g.current=a}));h((0,u.s6)(!0)),(0,s.Z)({params:{code:m.IG.Clickme,count:Math.round(a/100).toString(),isAuction:!0},cancelToken:e}).then((a=>{h((0,u.UB)(a))}),(a=>{p.ZP.isCancel(a)||console.error(a)})).finally((()=>{h((0,u.s6)(!1))}))}),500)),y=(0,n.useRef)(!0);(0,n.useEffect)((()=>{var a;if(y.current)y.current=!1;else if(null===(a=g.current)||void 0===a||a.call(g),e){const a=r?e-Math.min(e,l):e;a>0?v.current(a):(v.current.cancel(),h([(0,u.UB)(null),(0,u.s6)(!1)]))}else h((0,u.s6)(!1)),v.current.cancel()}),[l,t,h,r,e])}},21060:function(a,e,t){t.d(e,{ZP:()=>y,OF:()=>h,m9:()=>p,zt:()=>g});var n=t(31900),i=t.n(n);const r="row--xut3HiLDMlEh50bj",o="row_disable-on-xs--icK1QFGNDBchppXV",l="row_align-items-start--KbBRiQA6fM0eNw24",c="row_align-items-center--QQNKqZD0F24jisVR",s="row_justify-content-start--l15V1gW6SYUzIAiT",d="row_justify-content-center--XFaczWV7AyghdagQ",u="row_gap-0--Va_hRY_U5QoHYAkN";var m=t(74429);let p=function(a){return a.Start="start",a.Center="center",a}({}),h=function(a){return a.Start="flex-start",a.Center="center",a}({}),g=function(a){return a[a.Zero=0]="Zero",a}({});const v=a=>{let{children:e,alignItems:t,justifyContent:n,gap:v,disableOnXS:y}=a;return(0,m.jsx)("div",{className:i()(r,{[o]:y,[l]:t===p.Start,[c]:t===p.Center,[s]:n===h.Start,[d]:n===h.Center,[u]:v===g.Zero}),children:e})};v.displayName="components/FlexibleRow/index/FlexibleRow";const y=v},82207:function(a,e,t){t.d(e,{Z:()=>s});var n=t(/*! react */85813),i=t(/*! @hh.ru/magritte-ui */71016),r=t(/*! src/components/translation */11288),o=t(/*! react/jsx-runtime */74429);const l=(a,e)=>{if(!a)return"";const t=parseFloat(a);return isNaN(t)?"":(t/100).toFixed(e)},c=a=>{let{decimalLength:e=0,onChange:t,value:r,decimalMark:c=",",trls:s,...d}=a;const u=(0,n.useRef)(null);return(0,o.jsx)(i.Y,{ref:u,decimalLength:e,onChange:a=>{const e=((a,e)=>{const t=a.charAt(0),n=a.charAt(1);let i=a;return n&&"0"===t&&n!==e&&(i=i.slice(1)),i})(a,c);u.current&&t((a=>{const e=parseFloat(a);return isNaN(e)?"":(100*e).toFixed()})(e),{element:u.current})},value:l(r,e),decimalMark:[c],allowNegative:!1,...d,clearableOnFocus:!1,size:"medium",prefix:void 0})};c.displayName="src/components/MoneyInput/MoneyInput";const s=(0,r.Z)(c)},72900:function(a,e,t){t.d(e,{X:()=>c,h:()=>r});var n=t(/*! src/components/translation */11288),i=t(/*! react/jsx-runtime */74429);let r=function(a){return a.AlreadyCreated="alreadyCreated",a}({});const o={[r.AlreadyCreated]:"employerAuction.error.alreadyCreated"},l=a=>{let{trls:e,errorType:t}=a;return(0,i.jsx)(i.Fragment,{children:e[o[t]]})};l.displayName="components/Notifications/EmployerAuction/AuctionError";const c={Element:(0,n.Z)(l),kind:"error",autoClose:!0}},92490:function(a,e,t){t.d(e,{Z:()=>c});var n=t(/*! bloko/blocks/notificationManager/constants */1316),i=t(/*! src/components/translation */11288),r=t(/*! react/jsx-runtime */74429);const o="auction.modal.title.notification.save",l=a=>{let{trls:e}=a;return(0,r.jsx)("span",{children:e[o]})};l.displayName="components/Notifications/VacancyAuctionSaveSuccessfullNotification/VacancyAuctionSaveSuccessfullyModalNotification";const c={Element:(0,i.Z)(l),kind:n.NotificationKind.Ok,autoClose:!0}},91108:function(a,e,t){t.d(e,{Z:()=>m});var n=t(85813),i=t(52031),r=t(32993),o=t(24532),l=t(15803);const c="right-cell--OzBY_lBsxSAYwd8e";var s=t(74429);const d=a=>(0,n.isValidElement)(a)?a:(0,s.jsx)(i.j,{type:"title",children:a}),u=a=>{let{disabled:e,title:t,subtitle:n,description:u,right:m,bottom:p,...h}=a;const{isXS:g}=(0,r.Z)();return(0,s.jsxs)(o.b,{align:"top",disabled:e,left:(0,s.jsx)(l.X,{...h}),right:g?void 0:m,children:[t&&d(t),n&&(0,s.jsx)(i.j,{type:"subtitle",children:n}),u&&(0,s.jsx)(i.j,{type:"description",children:u}),p,m&&g&&(0,s.jsx)("div",{className:c,children:m})]})};u.displayName="common/CheckboxWithLabel/index/CheckboxWithLabel";const m=u}}]);
//# sourceMappingURL=3997.49d524377c8c697e.js.map